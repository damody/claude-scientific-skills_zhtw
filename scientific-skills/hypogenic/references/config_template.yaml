# HypoGeniC 設定範本
# 用於假說生成和測試的完整範例設定

# 資料集路徑
data:
  train: "data/train.json"
  validation: "data/val.json"
  test: "data/test.json"

  # 資料集應包含：
  # - text_features_1, text_features_2, ... text_features_n（字串列表）
  # - label（字串列表）

# 模型設定
model:
  name: "gpt-4"  # 或 "gpt-3.5-turbo"、"claude-3" 等
  api_key_env: "OPENAI_API_KEY"  # API 金鑰的環境變數
  temperature: 0.7
  max_tokens: 2048

# Redis 快取（可選 - 減少 API 成本）
cache:
  enabled: true
  host: "localhost"
  port: 6832

# 假說生成參數
generation:
  method: "hypogenic"  # 選項："hypogenic"、"hyporefine"、"union"
  num_hypotheses: 20
  batch_size: 5
  max_iterations: 10

  # 用於 HypoRefine 方法
  literature:
    papers_directory: "papers/"  # 包含 PDF 檔案的目錄
    num_papers: 10

  # 用於 Union 方法
  union:
    literature_hypotheses: "literature_hypotheses.json"
    deduplicate: true

# 提示範本
prompts:
  # 觀測提示 - 從資料生成初始觀測
  observations: |
    分析以下資料樣本並識別模式：

    {data_samples}

    生成 5 個不同的觀測，說明區分兩個類別的模式。
    聚焦於具體、可測試的特徵。

  # 批次生成提示 - 從觀測建立假說
  batched_generation: |
    基於這些關於資料的觀測：

    {observations}

    生成 {num_hypotheses} 個不同的、可測試的假說，以解釋類別之間的差異。
    每個假說應該：
    1. 具體且可測量
    2. 聚焦於單一特徵或模式
    3. 可透過經驗測試來證偽

    將每個假說格式化為："假說 X：[清楚的陳述]"

  # 推論提示 - 對資料測試假說
  inference: |
    假說：{hypothesis}

    資料樣本：
    {sample_text}

    此樣本支持還是反駁該假說？
    以以下方式回應：支持、反駁或中立

    說明：[簡要推理]

  # 相關性檢查提示 - 過濾假說
  relevance_check: |
    假說：{hypothesis}
    任務：{task_description}

    此假說對於給定任務是否相關且可測試？
    以以下方式回應：相關或不相關

    推理：[簡要說明]

  # 自適應精煉提示 - 用於 HypoRefine
  adaptive_refinement: |
    目前假說：{hypothesis}

    此假說在這些具挑戰性的範例上表現不佳：
    {challenging_examples}

    生成一個改進的假說，在保持核心洞察的同時解決這些失敗。

    改進的假說：[陳述]

# 推論設定
inference:
  method: "voting"  # 選項："voting"、"weighted"、"ensemble"
  confidence_threshold: 0.7
  max_samples: 1000  # 大型測試集的限制

# 輸出設定
output:
  directory: "output/"
  save_intermediate: true  # 每次迭代後儲存假說
  format: "json"  # 選項："json"、"csv"
  verbose: true

# 自訂標籤擷取（可選）
# 在您的程式碼中定義自訂函數以解析特定輸出格式
label_extraction:
  pattern: "PREDICTION: {label}"  # 用於擷取預測的正則表達式模式
  valid_labels: ["0", "1"]  # 預期的標籤值

# 任務特定設定
task:
  name: "example_task"
  description: "[描述您的特定領域]的二元分類任務"
  features:
    - name: "text_features_1"
      description: "主要文字內容"
    - name: "text_features_2"
      description: "額外的上下文資訊"
  labels:
    - name: "0"
      description: "負類"
    - name: "1"
      description: "正類"

# 評估指標
evaluation:
  metrics:
    - "accuracy"
    - "precision"
    - "recall"
    - "f1"
  cross_validation: false
  num_folds: 5

# 日誌記錄
logging:
  level: "INFO"  # 選項："DEBUG"、"INFO"、"WARNING"、"ERROR"
  file: "logs/hypogenic.log"
  console: true
