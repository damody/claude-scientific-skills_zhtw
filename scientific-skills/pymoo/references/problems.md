# Pymoo 測試問題參考

pymoo 中基準最佳化問題的完整參考。

## 單目標測試問題

### Ackley 函數
**特徵：**
- 高度多模態
- 許多局部最優
- 測試演算法逃離局部最小值的能力
- 連續變數

### Griewank 函數
**特徵：**
- 具有規則分布局部最小值的多模態
- 乘積項在變數之間引入相依性
- 全域最小值在原點

### Rastrigin 函數
**特徵：**
- 具有規則間隔局部最小值的高度多模態
- 對基於梯度的方法具有挑戰性
- 測試全域搜尋能力

### Rosenbrock 函數
**特徵：**
- 單模態但到全域最優的山谷狹窄
- 測試演算法在困難地形中的收斂性
- 連續最佳化的經典基準

### Zakharov 函數
**特徵：**
- 單模態
- 單一全域最小值
- 測試基本收斂能力

## 多目標測試問題（2-3 個目標）

### ZDT 測試套件
**用途：** 雙目標最佳化的標準基準
**構造：** f₂(x) = g(x) · h(f₁(x), g(x))，其中 Pareto 最優解時 g(x) = 1

#### ZDT1
- **變數：** 30 個連續
- **邊界：** [0, 1]
- **Pareto 前沿：** 凸
- **用途：** 基本收斂和多樣性測試

#### ZDT2
- **變數：** 30 個連續
- **邊界：** [0, 1]
- **Pareto 前沿：** 非凸（凹）
- **用途：** 測試處理非凸前沿

#### ZDT3
- **變數：** 30 個連續
- **邊界：** [0, 1]
- **Pareto 前沿：** 不連續（5 個分離區域）
- **用途：** 測試跨不連續前沿的多樣性維持

#### ZDT4
- **變數：** 10 個連續（x₁ ∈ [0,1]，x₂₋₁₀ ∈ [-10,10]）
- **Pareto 前沿：** 凸
- **難度：** 21⁹ 個局部 Pareto 前沿
- **用途：** 測試具有許多局部最優的全域搜尋

#### ZDT5
- **變數：** 11 個離散（位元串）
- **編碼：** x₁ 使用 30 位元，x₂₋₁₁ 各使用 5 位元
- **Pareto 前沿：** 凸
- **用途：** 測試離散最佳化和欺騙性地形

#### ZDT6
- **變數：** 10 個連續
- **邊界：** [0, 1]
- **Pareto 前沿：** 非凸且密度不均勻
- **用途：** 測試處理有偏差的解分布

**用法：**
```python
from pymoo.problems.multi import ZDT1, ZDT2, ZDT3, ZDT4, ZDT5, ZDT6
problem = ZDT1()  # 或 ZDT2()、ZDT3() 等
```

### BNH（Binh and Korn）
**特徵：**
- 2 個目標
- 2 個變數
- 約束問題
- 測試多目標環境中的約束處理

### OSY（Osyczka and Kundu）
**特徵：**
- 6 個目標
- 6 個變數
- 多個約束
- 受真實世界啟發

### TNK（Tanaka）
**特徵：**
- 2 個目標
- 2 個變數
- 不連續的可行區域
- 測試處理分離的搜尋空間

### Truss2D
**特徵：**
- 結構工程問題
- 雙目標（重量 vs 位移）
- 實際應用測試

### Welded Beam
**特徵：**
- 工程設計問題
- 多個約束
- 實際最佳化情境

### Omni-test
**特徵：**
- 可設定的測試問題
- 各種難度級別
- 系統性測試

### SYM-PART
**特徵：**
- 對稱問題結構
- 測試特定演算法行為

## 高維目標測試問題（4+ 個目標）

### DTLZ 測試套件
**用途：** 可擴展的高維目標基準
**目標：** 可設定（通常 3-15）
**變數：** 可擴展

#### DTLZ1
- **Pareto 前沿：** 線性（超平面）
- **難度：** 11^k 個局部 Pareto 前沿
- **用途：** 測試具有許多局部最優的收斂

#### DTLZ2
- **Pareto 前沿：** 球形（凹）
- **難度：** 直接的收斂
- **用途：** 基本高維目標多樣性測試

#### DTLZ3
- **Pareto 前沿：** 球形
- **難度：** 3^k 個局部 Pareto 前沿
- **用途：** 結合 DTLZ1 的多模態和 DTLZ2 的幾何

#### DTLZ4
- **Pareto 前沿：** 球形且密度有偏差
- **難度：** 不均勻的解分布
- **用途：** 測試有偏差的多樣性維持

#### DTLZ5
- **Pareto 前沿：** 退化（M 維空間中的曲線）
- **用途：** 測試處理退化前沿

#### DTLZ6
- **Pareto 前沿：** 退化曲線
- **難度：** 比 DTLZ5 更難收斂
- **用途：** 有挑戰性的退化前沿

#### DTLZ7
- **Pareto 前沿：** 不連續區域
- **難度：** 2^(M-1) 個不連續區域
- **用途：** 測試跨不連續前沿的多樣性

**用法：**
```python
from pymoo.problems.many import DTLZ1, DTLZ2
problem = DTLZ1(n_var=7, n_obj=3)  # 7 個變數，3 個目標
```

### WFG 測試套件
**用途：** Walking Fish Group 可擴展基準
**特徵：** 比 DTLZ 更複雜，各種前沿形狀和難度

**變體：** WFG1-WFG9 具有不同特徵
- 不可分離
- 欺騙性
- 多模態
- 有偏差
- 縮放的前沿

## 約束多目標問題

### MW 測試套件
**用途：** 具有各種約束類型的多目標問題
**特徵：** 不同的約束難度級別

### DAS-CMOP
**用途：** 難度可調整和可擴展的約束多目標問題
**特徵：** 可調整的約束難度

### MODAct
**用途：** 具有主動約束的多目標最佳化
**特徵：** 真實的約束情境

## 動態多目標問題

### DF 測試套件
**用途：** CEC2018 競賽動態多目標基準
**特徵：**
- 隨時間變化的目標
- 變化的 Pareto 前沿
- 測試演算法適應性

**變體：** DF1-DF14 具有不同動態

## 自訂問題定義

透過繼承基礎類別定義自訂問題：

```python
from pymoo.core.problem import ElementwiseProblem
import numpy as np

class MyProblem(ElementwiseProblem):
    def __init__(self):
        super().__init__(
            n_var=2,           # 變數數量
            n_obj=2,           # 目標數量
            n_ieq_constr=0,    # 不等式約束
            n_eq_constr=0,     # 等式約束
            xl=np.array([0, 0]),   # 下界
            xu=np.array([1, 1])    # 上界
        )

    def _evaluate(self, x, out, *args, **kwargs):
        # 定義目標
        f1 = x[0]**2 + x[1]**2
        f2 = (x[0]-1)**2 + x[1]**2

        out["F"] = [f1, f2]

        # 可選：約束
        # out["G"] = constraint_values  # <= 0
        # out["H"] = equality_constraints  # == 0
```

## 問題選擇指南

**演算法開發：**
- 簡單收斂：DTLZ2、ZDT1
- 多模態：ZDT4、DTLZ1、DTLZ3
- 非凸：ZDT2
- 不連續：ZDT3、DTLZ7

**全面測試：**
- 雙目標用 ZDT 套件
- 高維目標用 DTLZ 套件
- 複雜地形用 WFG
- 約束用 MW/DAS-CMOP

**真實世界驗證：**
- 工程問題（Truss2D、Welded Beam）
- 將問題特徵與應用領域匹配

**變數類型：**
- 連續：大多數問題
- 離散：ZDT5
- 混合：定義自訂問題
